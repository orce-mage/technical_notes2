window.jQuery=window.$=jQuery;var $body=$('body'),$doc=$(document),$win=$(window),throttle=function(func,ms){var isThrottled=false,savedArgs,savedThis;function wrapper(){if(isThrottled){savedArgs=arguments;savedThis=this;return;}
func.apply(this,arguments);isThrottled=true;setTimeout(function(){isThrottled=false;if(savedArgs){wrapper.apply(savedThis,savedArgs);savedArgs=savedThis=null;}},ms);}
return wrapper;};var App={start:function(){App.fixed();App.slider();App.bind();App.popularWidget();App.lazyImages();App.gridLayouts();App.parallaxHeader();App.mobileNav();App.footer();App.widgetmenu();App.mobilemenu();},mobileNav:function(){$('#mobile-toggle').bind('click',function(){$body.toggleClass('mobile-visible');var windowHeight=$win.height();if($('#wpadminbar')){windowHeight-=$('#wpadminbar').height();}});},parallaxHeader:function(){if($('.header-parallax').length){$win.scroll(function(){if($win.width()>1024){$('.header-parallax').css('background-position','50% '+($win.scrollTop()*-0.5)+'px');}});}},gridLayouts:function(){if($body.hasClass('enable-lazy-image')){$('.posts-grid img').load(function(){App.initGridLayout();});}else{App.initGridLayout();}},initGridLayout:function(){$('.posts-grid').isotope({itemSelector:'.post',});},showMegaMenu:function(){var self=$('.bw-megamenu',this);self.removeClass('hidden');setTimeout(function(){self.addClass('open');},50);},hideMegaMenu:function(){var self=$('.bw-megamenu',this);self.removeClass('open');setTimeout(function(){self.addClass('hidden');},200);},lazyImages:function(){$(function($){if($body.hasClass('enable-lazy-image')){$('img.lazy').unveil(0,function(){$(this).load(function(){$(this).delay(200).queue(function(){$(this).css('opacity',1);$win.trigger('resize.affixChk');});});});}});},bind:function(){$doc.on('click','a[href="#"]',function(e){e.preventDefault();});if($body.hasClass('bw-is-mobile')){$doc.on('click','#header #navigation > ul > li > a',function(e){if(jQuery(this).closest('li').find('.bw-megamenu:not(.open)').length){e.preventDefault();}});}},slider:function(){var $bwSlider=$('.bw-slider, .bw-widget-slider');if($bwSlider.length>0){var featuredSpeed;$(function($){$bwSlider.each(function(){featuredSpeed=$(this).attr('data-speed')?$(this).attr('data-speed'):false;$(this).owlCarousel({autoPlay:$(this).hasClass('auto-play')?true:false,stopOnHover:true,navigation:true,pagination:$(this).hasClass('slider-pagination'),paginationSpeed:1000,goToFirstSpeed:2000,singleItem:true,autoHeight:false,transitionStyle:($(this).attr('data-transition')=='slide')?false:$(this).attr('data-transition'),navigationText:['',''],afterInit:function(e){if(e.hasClass('billboard-slider')||e.hasClass('post-gallery')){e.parent().addClass('expand');}},afterMove:function(e){if(e.hasClass('billboard-slider')){var $owl=e.data('owlCarousel');var $flipItem=$owl.$owlItems.eq($owl.currentItem);jQuery('.owl-item .info-holder',e).removeClass('flipInX animated');$('.info-holder',$flipItem).addClass('flipInX animated');}}});});});}},popularWidget:function(){var $tab=jQuery('.bw-polular-widget-holder .bw-sidebar-posts');var $holder=jQuery('.bw-polular-widget-holder');var $popularNav=jQuery('.bw-popular-widget-nav a');$tab.hide();jQuery('.bw-sidebar-posts:first',$holder).show(0);$popularNav.bind('click',function(){var $this=jQuery(this);var $popularHolder=jQuery(this).closest('.bw-polular-widget-holder');jQuery('.bw-popular-widget-nav a',$popularHolder).removeClass('active');$this.addClass('active');jQuery('.bw-sidebar-posts',$popularHolder).hide();jQuery('.bw-sidebar-posts.'+$this.attr('data-parent'),$popularHolder).fadeIn(300);});},footer:function(){var sectionFooter=$('.section-pre-fotter__text');if(sectionFooter.find('p').length==0){sectionFooter.hide();}
$(".scrolltop").click(function(){$("html,body").animate({scrollTop:$(".thetop").offset().top},"1000");return false});$(window).scroll(function(){if($(window).scrollTop()>260){$('.scrolltop').addClass('scrolled');}else{$('.scrolltop').removeClass('scrolled');}});},widgetmenu:function(){var categoryLink=$('.widget_nav_menu .menu-item-has-children');categoryLink.each(function(i){categoryLink.eq(i).find('a').eq(0).addClass('title-link');});var titleLink=$('.title-link');categoryLink.delegate(titleLink,'click',function(e){$(this).find($('.sub-menu')).slideToggle(200);});},mobilemenu:function(){$('#mobile-menu .field  #menu-mobile-menu  li.menu-item-has-children').append('<div class="arrow-wrapper"><i class="toggle-menu"></i></div>');var link_menu=$('#mobile-menu ul .arrow-wrapper');link_menu.click(function(){$(this).children(".toggle-menu").toggleClass('opened-submenu');var ul_menu=$(this).prev('.sub-menu');if(!ul_menu.hasClass("opened")){ul_menu.slideDown().addClass("opened").parent("li").toggleClass('active');}else{ul_menu.slideUp().removeClass("opened").parent('li').toggleClass('active');}});},fixed:function(){var evntStr,sideBar,btnHire;sideBar=window['sidebar'];if(sideBar){btnHire=$('.js-btns-wrap');evntStr='resize.checkBtnW orientationchange.checkBtnW';$win.on(evntStr,throttle(function(){btnHire.css('width',sideBar.clientWidth);},250));btnHire.css('width',sideBar.clientWidth);}},affixSidebar:function(){var affixSidebar,handlerResize,contentBox,sidebarBox,isMobile;affixSidebar=$('.js-sidebar-affix');affixSidebarAuthor=$('.widget_wp_team_list');if(affixSidebar.length){contentBox=$('#content');sidebarBox=$('#sidebar');if(matchMedia){var mq=window.matchMedia("(max-width: 768px)");isMobile=mq.matches;mq.addListener(function(mq){isMobile=mq.matches;});}else{isMobile=$win.width()<=768;$win.on('resize.MQfix orientationchange.MQfix',throttle(function(){isMobile=$win.width()<=768;},200));}
handlerResize=function(){if(!isMobile&&contentBox[0].offsetHeight>sidebarBox[0].offsetHeight){sidebarBox.css('height',contentBox.outerHeight());}else{sidebarBox.css('height','');}};$win.on('resize.affixChk orientationchange.affixChk',throttle(handlerResize,250));window.addEventListener('load',function(){affixSidebar.on('affix.bs.affix',function(){affixSidebar.css({width:affixSidebar.parent().width()+'px'});if(affixSidebar.is('.affix-bottom')){return;}
return affixSidebar.addClass('is-fade');}).on('affix-bottom.bs.affix affix-top.bs.affix',function(){affixSidebar.removeClass('is-fade');affixSidebar.css({width:''});}).affix({offset:{top:(function(){return affixSidebar.offset().top+affixSidebar.outerHeight()-affixSidebarAuthor.outerHeight()-50;})(),bottom:(function(){handlerResize();return $body.outerHeight()-(container.offsetHeight+container.offsetTop-$('.pagination').outerHeight()-40);})()}});});}}};App.start();$(document).ready(function(){if($('body').is(".single-post")){function fixedTops(){$(window).on('DOMContentLoaded',function(){var MainImg=$(".single-post article .post-featured").offset().top;$('div.nav-by-hooks, .sidebar_container').css({"top":MainImg,"opacity":"1"});});}
function single_post_hooks(){var findElemHtml=$(".single-post .post-excerpt p a[href^='#']").parent().html();if(findElemHtml){var addToBlock=$('.single-post div.nav-by-hooks .hooks-inner').append(findElemHtml);var i=1;$('.hooks-inner a').each(function(){$(this).prepend('<label class="hook-no">'+i+'</label>');i++;});$(window).scroll(function(){var findElemHtmlOffset=$(".single-post .post-excerpt p a[href^='#']").parent().offset().top;var findElemHtmlHeight=$(".single-post .post-excerpt p a[href^='#']").parent().outerHeight();var headerHeight=$("header#header").outerHeight();var offsetTotal=findElemHtmlOffset+findElemHtmlHeight-headerHeight;var postOffset=$(".single-post .post-excerpt").offset().top;var postHeight=$(".single-post .post-excerpt").outerHeight();var offsetPostTotal=postOffset+postHeight-headerHeight;});}else{$('.single-post div.nav-by-hooks').hide();$('.single-post div.sales_info_container').css("margin-top","0");$(window).scroll(function(){var headerHeight=$("header#header").outerHeight();var offsetTotal=headerHeight;var postOffset=$(".single-post .post-excerpt").offset().top;var postHeight=$(".single-post .post-excerpt").outerHeight();var offsetPostTotal=postOffset+postHeight-headerHeight;});}}
function blog_anchor_scroll(){var a=$('.single-post a[href^="#"]');if($(document).width()>1024){a.click(function(e){e.preventDefault();hideHooks();var scroll_el=$(this).attr('href');if($(scroll_el).length!=0){$('html, body').animate({scrollTop:$(scroll_el).offset().top-84});}});}else{a.click(function(e){e.preventDefault();var scroll_el=$(this).attr('href');if($(scroll_el).length!=0){$('html, body').animate({scrollTop:$(scroll_el).offset().top-60});}});}}
single_post_hooks();blog_anchor_scroll();}});$('.search-wrap .search-opener').on('click',function(){$('.search-wrap aside#search').toggleClass('closed');$('.search-wrap .submenu-content').toggleClass('closed');});$('.search-wrap .search-closer').on('click',function(){$('.search-wrap aside#search').toggleClass('closed');$('.search-wrap .submenu-content').toggleClass('closed');});$('.subscribe-top-button').on('click',function(){$('.subscribe-top-button').toggleClass('form-closed')
$('.subscribe-top-form').slideToggle(300);});function related_posts_resize(){if(screen.width>768){var a=[];$('.related-articles .article-thumb').each(function(){var h=$(this).outerHeight();a.push(h);});var max=Math.max.apply(Math,a);$('.related-articles .article-thumb').each(function(){$(this).css({height:max});});}}
$(window).scroll(function(){if($('.post-author.single-post-bottom')[0]){var related_top=$('.post-author.single-post-bottom').offset().top;if($(window).scrollTop()>related_top){setTimeout(function(){related_posts_resize();},1000);}}
var searchBlock=$(".search-wrap");if(searchBlock){var el=searchBlock.offset().top;if($(window).scrollTop()==el-85){$(".search-wrap").addClass('shadow');}else{$(".search-wrap").removeClass("shadow");}}});$(document).ready(function(){$('.post-excerpt img').each(function(){var a=$(this);if($(this).hasClass('alignnone')||$(this).hasClass('aligncenter')){a.parents('p').css({'border':'1px solid #CCCCCC','text-align':'center'});}});var backgroundLink=$('.post-excerpt img.background').attr("src");$('.post-excerpt img.background').parents("p").css("display","none");$('.single-post .post-excerpt a:contains("[")').each(function(){$(this).css({"vertical-align":"super","font-size":"14px","position":"relative"});if($(this).attr('data-title')){var title=$(this).attr('data-title');$(this).append("<div class='popup-container'><p class='popup-content'>"+title+"</p></div>");var popup=$(this).children(".popup-container");var popup_height=popup.height();$(this).mouseenter(function(){popup.css({"top":-50-popup_height+"px","visibility":"visible"}).animate({opacity:1,top:-30-popup_height},250);});$(this).mouseleave(function(){popup.animate({opacity:0,top:-50-popup_height},100).css({"visibility":"hidden"});});}});if(navigator.platform.indexOf('Mac')!=-1){$("body").addClass("safari");}
$(window).scroll(function(){if($(window).scrollTop()>0){$('#header').removeClass('top');}else{$('#header').addClass('top');}});function lazyLoad(){$('.videoContainer iframe').each(function(){var frame=$(this),vidSource=$(frame).attr('data-video-src'),distance=$(frame).offset().top-$(window).scrollTop(),distTopBot=window.innerHeight-distance,distBotTop=distance+$(frame).height();if(distTopBot>=0&&distBotTop>=0){$(frame).attr('src',vidSource);$(frame).removeAttr('data-video-src');}});}
var throttled=_.throttle(lazyLoad,250);$(window).scroll(throttled);$(".single-page .post-excerpt img.lazy").each(function(){var aspectRatio=$(this).attr('width')/$(this).attr('height');var maxHeight=$(this).width()/aspectRatio;$(this).css('max-height',maxHeight+'px');});});var hours=72;var now=new Date().getTime();var setupTime=localStorage.getItem('setupTime');if(setupTime==null){localStorage.setItem('setupTime',now)}else{if(now-setupTime>hours*60*60*1000){localStorage.clear()
localStorage.setItem('setupTime',now);}}
function toggleHooks(){$('.nav-by-hooks').toggleClass('nav-by-hooks-is-visible');$('.hooks-container').toggleClass('hooks-visible');$('.nav-by-hooks button').toggleClass('is-show');}
function hideHooks(){$('.nav-by-hooks').removeClass('nav-by-hooks-is-visible');$('.hooks-container').removeClass('hooks-visible');$('.nav-by-hooks button').removeClass('is-show');}